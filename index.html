// Comando /aventura â€” Ilha do Destino ğŸ˜ˆ

const aventuraJogos = {}

async function aventura(sock, msg, from, body) {
    const etapa = aventuraJogos[from]?.etapa || 0

    if (body === "/aventura") {
        aventuraJogos[from] = { etapa: 1 }
        return sock.sendMessage(from, {
            text: `ğŸ’¥ ILHA DO DESTINO ğŸ’¥
VocÃª acordou jogado na areia, todo cagado, sem memÃ³ria.
Decide aÃ­ antes que eu durma:

1ï¸âƒ£ â€” Explorar a praia fedida ğŸ–ï¸  
2ï¸âƒ£ â€” Entrar na floresta onde tudo quer te matar ğŸŒ³  
3ï¸âƒ£ â€” Gritar igual doido ğŸ“£`
        })
    }

    // ETAPA 1
    if (etapa === 1) {
        if (body === "1") {
            aventuraJogos[from].etapa = 2
            return sock.sendMessage(from, { text: `Achou um mapa! ParabÃ©ns, Dora Aventureira ğŸ™„
Mas uma onda vem te engolir:

1ï¸âƒ£ â€” Correr pras pedras  
2ï¸âƒ£ â€” Virar sereia e nadar` })
        }
        if (body === "2") {
            aventuraJogos[from].etapa = 3
            return sock.sendMessage(from, { text: `A floresta vai te matar, olha o lobo aÃ­ ğŸºğŸ¤¡

1ï¸âƒ£ â€” Subir na Ã¡rvore  
2ï¸âƒ£ â€” Lutar com um galho kkkkk` })
        }
        if (body === "3") {
            aventuraJogos[from].etapa = 4
            return sock.sendMessage(from, { text: `VocÃª gritou e um barco amaldiÃ§oado apareceu ğŸš¤ğŸ‘»

1ï¸âƒ£ â€” Subir no barco  
2ï¸âƒ£ â€” Sair correndo como um pato` })
        }
    }

    // ETAPA 2 â€“ PRAIA
    if (etapa === 2) {
        delete aventuraJogos[from]
        if (body === "1") return sock.sendMessage(from, { text: "VocÃª tropeÃ§ou, caiu e o mar te engoliu ğŸ’€ ParabÃ©ns campeÃ£o ğŸ¤¡" })
        if (body === "2") return sock.sendMessage(from, { text: "VocÃª nÃ£o Ã© sereia. Afogou. F ğŸ™„ğŸ’€" })
    }

    // ETAPA 3 â€“ LOBO
    if (etapa === 3) {
        delete aventuraJogos[from]
        if (body === "1") return sock.sendMessage(from, { text: "Subiu na Ã¡rvore e o galho quebrou. O lobo agradece a janta ğŸºğŸ’€" })
        if (body === "2") return sock.sendMessage(from, { text: "Bateu no lobo com um galho ğŸ¤£ resultado: vocÃª virou petisco ğŸ’€" })
    }

    // ETAPA 4 â€“ BARCO
    if (etapa === 4) {
        delete aventuraJogos[from]
        if (body === "1") return sock.sendMessage(from, { text: "Barco era do capeta ğŸ˜ˆ vocÃª sumiu do mapa ğŸ’€" })
        if (body === "2") return sock.sendMessage(from, { text: "TropeÃ§ou, bateu a cara e morreu de vergonha ğŸ’€" })
    }
}

export default aventura;
